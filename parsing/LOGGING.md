# üìù –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–í—Å–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–∞—Ä—Å–µ—Ä, –±—ç–∫–µ–Ω–¥, Telegram –±–æ—Ç) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

### –¢–∞–±–ª–∏—Ü–∞ `app_logs`

–í—Å–µ –ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `app_logs` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏:

- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `timestamp` - –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è
- `module` - –ú–æ–¥—É–ª—å: `'parser'`, `'backend'`, `'telegram'`
- `level` - –£—Ä–æ–≤–µ–Ω—å: `'INFO'`, `'WARNING'`, `'ERROR'`, `'DEBUG'`
- `message` - –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- `description` - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- `details` - –î–µ—Ç–∞–ª–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è Telegram –ª–æ–≥–æ–≤)
- `error_traceback` - –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –¢–∞–±–ª–∏—Ü–∞ `parse_log`

–õ–æ–≥–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `parse_log`:

- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `parse_time` - –í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- `files_processed` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- `groups_updated` - –°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø (JSON)
- `status` - –°—Ç–∞—Ç—É—Å: `'success'` –∏–ª–∏ `'error'`
- `error_message` - –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)

## üîç –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

### –ü–∞—Ä—Å–µ—Ä (`parser`)
- ‚úÖ –ù–∞—á–∞–ª–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ (—Å –¥–µ—Ç–∞–ª—è–º–∏)
- ‚ùå –û—à–∏–±–∫–∏ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ

### –ë—ç–∫–µ–Ω–¥ (`backend`)
- ‚úÖ –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ –≤ –ø–æ—Ç–æ–∫–µ
- ‚úÖ –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞ –≤ –ø–æ—Ç–æ–∫–µ
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- ‚ùå –û—à–∏–±–∫–∏ –≤ –±—ç–∫–µ–Ω–¥–µ

### Telegram –±–æ—Ç (`telegram`)
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram API
- ‚úÖ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`/start`, `/help`, `/settings`)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- ‚ùå –û—à–∏–±–∫–∏ –≤ –±–æ—Ç–µ
- ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –∫–æ–¥–µ –ø–∞—Ä—Å–µ—Ä–∞:
```python
from logger import log_parser_info, log_parser_error

log_parser_info("–°–æ–æ–±—â–µ–Ω–∏–µ", "–û–ø–∏—Å–∞–Ω–∏–µ", {"key": "value"})
log_parser_error("–û—à–∏–±–∫–∞", error=exception, description="–û–ø–∏—Å–∞–Ω–∏–µ")
```

### –í –∫–æ–¥–µ –±—ç–∫–µ–Ω–¥–∞:
```python
from logger import log_backend_info, log_backend_error

log_backend_info("–°–æ–æ–±—â–µ–Ω–∏–µ", "–û–ø–∏—Å–∞–Ω–∏–µ")
log_backend_error("–û—à–∏–±–∫–∞", error=exception)
```

### –í –∫–æ–¥–µ Telegram –±–æ—Ç–∞:
```python
from logger import log_telegram_info, log_telegram_error, log_telegram_warning

log_telegram_info("–°–æ–æ–±—â–µ–Ω–∏–µ", user_id=123, description="–û–ø–∏—Å–∞–Ω–∏–µ")
log_telegram_error("–û—à–∏–±–∫–∞", error=exception, user_id=123)
log_telegram_warning("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ", user_id=123)
```

## üîé –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–õ–æ–≥–∏ –º–æ–∂–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á–µ—Ä–µ–∑ SQL –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

```sql
-- –í—Å–µ –ª–æ–≥–∏
SELECT * FROM app_logs ORDER BY timestamp DESC;

-- –õ–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞
SELECT * FROM app_logs WHERE module = 'parser' ORDER BY timestamp DESC;

-- –û—à–∏–±–∫–∏
SELECT * FROM app_logs WHERE level = 'ERROR' ORDER BY timestamp DESC;

-- –õ–æ–≥–∏ Telegram –±–æ—Ç–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SELECT * FROM app_logs WHERE module = 'telegram' AND user_id = 123;
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```sql
-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤ –ø–æ –º–æ–¥—É–ª—è–º
SELECT module, COUNT(*) as count FROM app_logs GROUP BY module;

-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø–æ –º–æ–¥—É–ª—è–º
SELECT module, COUNT(*) as errors FROM app_logs 
WHERE level = 'ERROR' GROUP BY module;

-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –æ—à–∏–±–æ–∫
SELECT * FROM app_logs 
WHERE level = 'ERROR' 
ORDER BY timestamp DESC 
LIMIT 10;
```
